{% extends 'base.html.twig' %}

{% block title %}Control de la propina{% endblock %}

{% block body %}
<style type="text/css">
  #mydatatable_filter { float: right; }
</style>
<h2>Trabajador</h2>
<h4>{{employees.name ~" "~ employees.lasname}}:
{% for querys in query %}
{{ querys.total|number_format(2,'.',',') }}
{% endfor %}
</h4>
<br>
{% if (ctrlmovs) %}
<!-- table id="employees" class="table" -->
<table id="mydatatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead class="thead-light">
    <tr>
      <th scope="col">Cantidad</th>
      <th scope="col">Fecha</th>
      <th scope="col">Descripción</th>
    </tr>
  </thead>
  <tbody>
    {% for ctrlmov in ctrlmovs %}
    <tr>
     <td>{{ctrlmov.amount|number_format(2,'.',',')}}</td>
     <td>{{ctrlmov.date|date('d-m-y')}}</td>
     <td>{{ctrlmov.description}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<div class="alert"><h3>No se ha introducido ningún dato aún</h3></div>
{% endif %}

{% endblock %}
{% block javascripts %}
 <script src="/js/main.js"></script>
 <script src="/js/jquery-3.3.1.slim.min.js"></script>
 <script src="/js/popper.min.js"></script>
 <script src="/bootstrap-4.1.3/js/bootstrap.min.js"></script>
 <script src="/js/jquery.dataTables.min.js"></script>
 <script src="/js/dataTables.bootstrap4.min.js"></script>
 <script type="text/javascript">
 $(document).ready( function () {
    $('#mydatatable').DataTable();
  } );
 </script>
{% endblock %}